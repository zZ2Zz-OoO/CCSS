<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="root">
    欢迎用户&nbsp;{{ name }}
    <el-form ref="form" :model="form" label-width="80px">
        <el-form-item label="用户Id">
            <el-input style="width: 500px" v-model="form.userId"></el-input>
        </el-form-item>
        <el-form-item label="账号">
            <el-input style="width: 500px" v-model="form.userName"></el-input>
        </el-form-item>
        <el-form-item label="密码">
            <el-input style="width: 500px" v-model="form.password"></el-input>
        </el-form-item>
        <el-form-item label="姓名">
            <el-input style="width: 500px" v-model="form.realName"></el-input>
        </el-form-item>
        <el-form-item label="身份证号">
            <el-input style="width: 500px" v-model="form.cardId"></el-input>
        </el-form-item>
        <el-form-item label="性别">
            <el-input style="width: 500px" v-model="form.sex"></el-input>
        </el-form-item>
        <el-form-item label="联系电话">
            <el-input style="width: 500px" v-model="form.phone"></el-input>
        </el-form-item>
        <el-form-item label="具体住址">
            <el-input style="width: 500px" v-model="form.address"></el-input>
        </el-form-item>
        <el-form-item label="社区号">
            <el-input style="width: 500px" v-model="form.communityId"></el-input>
        </el-form-item>
    </el-form>

</div>
<!--<script type="module" src="static/js/axios.min.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/static/js/vue.js"></script>
<!-- 引入样式 -->
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    new Vue({
        el: "#root",
        data() {
            return {
                // userName1:this.sessionStorage.getItem("user"),
                name: '',
                form: {
                    userId: '',
                    userName: '',
                    password: '',
                    cardId: '',
                    sex: '',
                    phone: '',
                    address: '',
                    realName: '',
                    communityId: ''
                }
            }
        },
        created() {
            this.getAll()
            this.getName()
        },
        methods: {
            getAll() {
                const userId = JSON.parse(sessionStorage.getItem('user')).userId
                var _this = this;
                axios({
                    method: "get",
                    url: "http://localhost:8080/users/" + userId
                }).then(res => {
                    console.log(res.data.data)
                    _this.form = res.data.data;
                })
            },
            getName() {
                // console.log(sessionStorage.getItem('user'));
                this.form.userId = JSON.parse(sessionStorage.getItem('user')).userId
            }
        }
    })
</script>
</body>
</html>